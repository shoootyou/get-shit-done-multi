---
phase: 05-simple-command-migration
plan: 06
type: execute
wave: 3
depends_on: [05-01, 05-02, 05-03, 05-04]
files_modified:
  - specs/skills/gsd-complete-milestone/SKILL.md
  - specs/skills/gsd-audit-milestone/SKILL.md
  - specs/skills/gsd-plan-milestone-gaps/SKILL.md
  - specs/skills/gsd-archive-milestone/SKILL.md
  - specs/skills/gsd-restore-milestone/SKILL.md
  - .claude/skills/gsd-complete-milestone.md (generated)
  - .claude/skills/gsd-audit-milestone.md (generated)
  - .claude/skills/gsd-plan-milestone-gaps.md (generated)
  - .claude/skills/gsd-archive-milestone.md (generated)
  - .claude/skills/gsd-restore-milestone.md (generated)
autonomous: true
must_haves:
  goal: "Migrate milestone lifecycle commands as cohesive set with dependency chain intact"
  truths:
    - Five spec folders exist for milestone lifecycle commands
    - complete-milestone checks for audit before archiving
    - audit-milestone spawns gsd-integration-checker for E2E validation
    - plan-milestone-gaps spawns gsd-planner for gap closure planning
    - archive-milestone moves files to .planning/history/{milestone}/
    - restore-milestone reverses archive operation
    - Dependency chain preserved: audit → gap planning → complete → archive → restore
    - All five commands generate and install successfully
  artifacts:
    - specs/skills/gsd-complete-milestone/SKILL.md
    - specs/skills/gsd-audit-milestone/SKILL.md
    - specs/skills/gsd-plan-milestone-gaps/SKILL.md
    - specs/skills/gsd-archive-milestone/SKILL.md
    - specs/skills/gsd-restore-milestone/SKILL.md
  wiring:
    - complete-milestone reads MILESTONE-AUDIT.md before proceeding
    - audit-milestone spawns gsd-integration-checker for cross-phase validation
    - plan-milestone-gaps reads MILESTONE-AUDIT.md and spawns gsd-planner
    - archive-milestone moves ROADMAP/REQUIREMENTS to milestones/{version}/
    - restore-milestone reverses archive by moving files back
  key_links:
    - audit creates AUDIT.md → complete checks status → archive moves files
    - audit gaps_found → plan-milestone-gaps creates fix phases → re-audit
---

# Phase 5 Plan 06: Batch 6 - Milestone Lifecycle

**Objective:** Migrate five milestone lifecycle commands as cohesive set, preserving dependency chain and spawning patterns

## Context

**From Research (05-RESEARCH.md):**
- **Milestone lifecycle dependency chain**: complete checks audit → audit spawns checker → gaps spawn planner → archive moves files → restore undoes
- **Total complexity**: 968 lines across 5 commands
- **Spawning**: audit-milestone spawns gsd-integration-checker, plan-milestone-gaps spawns gsd-planner
- **Pattern**: Phase transition management with state checks

**Commands in batch (migrate in order):**
1. **gsd-complete-milestone** (136 lines) - Check audit, archive milestone
2. **gsd-audit-milestone** (258 lines) - Spawn integration checker, create audit report
3. **gsd-plan-milestone-gaps** (284 lines) - Parse audit gaps, spawn planner
4. **gsd-archive-milestone** (139 lines) - Move files to history/
5. **gsd-restore-milestone** (151 lines) - Restore archived milestone

**Why Wave 3:**
- Depends on foundation commands from Waves 1-2
- Independent of progress routing (05-08)
- Can run in parallel with 05-05 and 05-07

**Spawning dependencies (all exist):**
- gsd-integration-checker (✓ exists in specs/agents/)
- gsd-planner (✓ migrated in Phase 4)

## Tasks

<task name="migrate-complete-milestone-command" type="auto">
  <files>specs/skills/gsd-complete-milestone/SKILL.md</files>
  <action>
Create gsd-complete-milestone spec from legacy commands/gsd/complete-milestone.md (136 lines).

Frontmatter:
```yaml
name: gsd-complete-milestone
description: Mark milestone complete, archive to milestones/, update PROJECT and MILESTONES registry
skill_version: 1.9.1
requires_version: 1.9.0+
platforms: [claude, copilot, codex]
tools:
  - name: read
  - name: write
  - name: bash
arguments:
  - name: version
    type: string
    required: true
    description: Milestone version to complete (e.g., "v1.0.0")
```

Body structure:
```xml
<objective>
Mark milestone {{version}} complete, archive to milestones/, and update 
ROADMAP.md and REQUIREMENTS.md.

Purpose: Create historical record of shipped version, archive milestone 
artifacts, and prepare for next milestone.
</objective>

<process>
<step name="check_audit">
Look for .planning/v{{version}}-MILESTONE-AUDIT.md

If missing:
  Recommend: "/gsd:audit-milestone first - need E2E validation before completion"
  Exit (user must audit first)

If exists with status: gaps_found:
  Recommend: "/gsd:plan-milestone-gaps - address gaps before completion"
  Exit (user must fix gaps first)

If exists with status: passed:
  Proceed with completion
</step>

<step name="archive_roadmap_requirements">
Archive current milestone artifacts:

```bash
# Create milestone directory
mkdir -p .planning/milestones/v{{version}}

# Archive key files
cp .planning/ROADMAP.md .planning/milestones/v{{version}}/
cp .planning/REQUIREMENTS.md .planning/milestones/v{{version}}/

# Archive audit report
cp .planning/v{{version}}-MILESTONE-AUDIT.md .planning/milestones/v{{version}}/

# Count phases completed
PHASE_COUNT=$(ls -d .planning/phases/* | wc -l)
```
</step>

<step name="update_project">
Update PROJECT.md to reflect milestone completion:

Read current "What This Is" section.
Evolve it to reflect completed work from this milestone.
Update "Current focus" to "Between milestones" or next milestone if known.
</step>

<step name="update_milestones_registry">
Update MILESTONES.md registry:

```bash
cat >> .planning/MILESTONES.md << EOF

## v{{version}}
- **Completed:** $(date +%Y-%m-%d)
- **Phases:** ${PHASE_COUNT} phases completed
- **Requirements:** $(grep -c "^###" .planning/REQUIREMENTS.md) requirements met
- **Status:** Completed
- **Location:** .planning/milestones/v{{version}}/
- **Audit:** Passed E2E integration checks
EOF
```
</step>

<step name="git_tag">
Create git tag for milestone:

```bash
git add .planning/milestones/v{{version}}/
git add .planning/MILESTONES.md
git add .planning/PROJECT.md
git commit -m "milestone: complete v{{version}}

- ${PHASE_COUNT} phases completed
- All requirements met
- E2E audit passed"

git tag -a "v{{version}}" -m "Release v{{version}}

$(cat .planning/ROADMAP.md | head -20)
"
```
</step>

<step name="delete_working_files">
Delete ROADMAP.md and REQUIREMENTS.md (milestone cycle ends):

```bash
git rm .planning/ROADMAP.md .planning/REQUIREMENTS.md
git commit -m "milestone: clear roadmap for next cycle"
```

Note: Files are preserved in .planning/milestones/v{{version}}/
</step>

<step name="present_summary">
Present completion summary:

```
## MILESTONE COMPLETE: v{{version}}

**Completed:** {date}
**Phases:** {count} phases
**Requirements:** {count} requirements met
**Audit:** Passed

**Archived to:** .planning/milestones/v{{version}}/
**Git tag:** v{{version}}

### Next Steps

1. Retrospective (what went well, what to improve)
2. Start next milestone: /gsd:new-milestone
3. Or take a break - you earned it!
```
</step>
</process>
```

**Critical elements:**
- Prerequisite checking (audit must exist with passed status)
- Milestone directory creation
- File archiving (ROADMAP, REQUIREMENTS, AUDIT)
- Git tagging for version
- Working file deletion (roadmap cycle ends)
  </action>
  <verify>
Test spec creation and structure:
```bash
cat specs/skills/gsd-complete-milestone/SKILL.md | grep -A 5 "check_audit"
```
  </verify>
  <done>gsd-complete-milestone spec exists with audit prerequisite check</done>
</task>

<task name="migrate-audit-milestone-command" type="auto">
  <files>specs/skills/gsd-audit-milestone/SKILL.md</files>
  <action>
Create gsd-audit-milestone spec from legacy commands/gsd/audit-milestone.md (258 lines).

Frontmatter:
```yaml
name: gsd-audit-milestone
description: Spawn integration checker to validate cross-phase integration and E2E flows
skill_version: 1.9.1
requires_version: 1.9.0+
platforms: [claude, copilot, codex]
tools:
  - name: read
  - name: write
  - name: bash
  - name: task
arguments:
  - name: version
    type: string
    required: true
    description: Milestone version to audit (e.g., "v1.0.0")
```

Body structure:
```xml
<objective>
Check cross-phase integration and end-to-end flows before milestone completion.

Purpose: Verify phases connect properly and user workflows complete end-to-end.
Output: v{{version}}-MILESTONE-AUDIT.md with status (passed/gaps_found).
</objective>

<process>
<step name="load_milestone_context">
Load milestone context:

```bash
# Load requirements
cat .planning/REQUIREMENTS.md

# Find all completed phases
ls -d .planning/phases/*/

# Load all SUMMARY files
find .planning/phases -name "*-SUMMARY.md" | sort
```
</step>

<step name="check_existing_audit">
Check for existing audit:

If .planning/v{{version}}-MILESTONE-AUDIT.md exists:
  Display current status
  Ask: "Re-audit or view existing? (re-audit/view)"
  If view: display and exit
  If re-audit: proceed
</step>

<step name="spawn_integration_checker">
Spawn gsd-integration-checker with full context:

```javascript
task({
  agent_type: "gsd-integration-checker",
  description: "Audit milestone E2E flows",
  prompt: `
<objective>
Audit milestone {{version}} for cross-phase integration and E2E flow completion.
</objective>

<requirements>
@.planning/REQUIREMENTS.md
</requirements>

<verification_files>
${allVerificationMdFiles.map(f => `@${f}`).join('\n')}
</verification_files>

<summaries>
${allSummaryFiles.map(f => `@${f}`).join('\n')}
</summaries>

<tasks>
1. Map requirements to implementing phases
2. Check all requirements have implementation
3. Test E2E user workflows (can user complete primary flows?)
4. Identify integration gaps (phases built but not connected)
5. Verify key data flows (create → read → update → delete chains)
</tasks>

<output>
Write: .planning/v{{version}}-MILESTONE-AUDIT.md

Frontmatter:
---
milestone: {{version}}
audited: {timestamp}
status: passed|gaps_found
gaps_count: {number}
---

## Requirements Coverage

{requirement → phase mapping}

## E2E Flow Results

{workflow testing results}

## Integration Gaps

{gaps found, if any}

## Recommendation

{passed: ready for completion / gaps_found: run plan-milestone-gaps}
</output>
  `
})
```
</step>

<step name="present_audit_results">
After checker completes:

Read .planning/v{{version}}-MILESTONE-AUDIT.md
Display status prominently

If status: passed:
  "✓ Milestone ready for completion: /gsd:complete-milestone {{version}}"

If status: gaps_found:
  "⚠ Gaps found: {count} integration issues
   Next: /gsd:plan-milestone-gaps {{version}} (creates fix phases)"
</step>
</process>
```

**Critical elements:**
- Spawning gsd-integration-checker with full context
- @-references to all VERIFICATION.md and SUMMARY.md files
- Status-driven output (passed vs gaps_found)
- Next step routing based on audit results
  </action>
  <verify>
Test spec with spawning check:
```bash
cat specs/skills/gsd-audit-milestone/SKILL.md | grep -A 10 "agent_type.*gsd-integration-checker"
```
  </verify>
  <done>gsd-audit-milestone spec exists with integration checker spawning</done>
</task>

<task name="migrate-plan-milestone-gaps-command" type="auto">
  <files>specs/skills/gsd-plan-milestone-gaps/SKILL.md</files>
  <action>
Create gsd-plan-milestone-gaps spec from legacy commands/gsd/plan-milestone-gaps.md (284 lines).

Frontmatter:
```yaml
name: gsd-plan-milestone-gaps
description: Parse audit gaps, spawn planner to create gap closure phases
skill_version: 1.9.1
requires_version: 1.9.0+
platforms: [claude, copilot, codex]
tools:
  - name: read
  - name: write
  - name: bash
  - name: task
arguments:
  - name: version
    type: string
    required: true
    description: Milestone version to plan gaps for
```

Body structure:
```xml
<objective>
Parse MILESTONE-AUDIT.md gaps, spawn planner to create gap closure phases, 
append to roadmap.

Purpose: Address integration gaps before milestone completion.
Output: New phases in ROADMAP.md addressing audit gaps.
</objective>

<process>
<step name="load_audit">
Load .planning/v{{version}}-MILESTONE-AUDIT.md

Verify status: gaps_found
If status: passed, exit with: "No gaps to plan - audit passed"

Parse "Integration Gaps" section:
- Extract each gap description
- Note affected phases/requirements
</step>

<step name="spawn_planner">
Spawn gsd-planner in gap closure mode:

```javascript
task({
  agent_type: "gsd-planner",
  description: "Plan gap closure phases",
  prompt: `
<objective>
Create gap closure phases for milestone {{version}} audit gaps.
</objective>

<audit_report>
@.planning/v{{version}}-MILESTONE-AUDIT.md
</audit_report>

<current_roadmap>
@.planning/ROADMAP.md
</current_roadmap>

<gaps>
${gaps.map(g => `
Gap: ${g.description}
Affected: ${g.affected}
Fix needed: ${g.fix}
`).join('\n')}
</gaps>

<tasks>
1. Group gaps by concern (integration, missing feature, broken flow)
2. For each group: create gap closure phase
3. Append phases to ROADMAP.md (after current highest phase)
4. Update STATE.md with pending gap closure work
</tasks>

<output>
Update ROADMAP.md with new phases:
- Phase {N+1}: {Gap closure description}
- Phase {N+2}: {Gap closure description}

Each phase should address specific gaps from audit.
</output>
  `
})
```
</step>

<step name="verify_roadmap_updated">
After planner completes:

```bash
# Show new phases added
tail -20 .planning/ROADMAP.md

# Count new phases
NEW_PHASE_COUNT=$(grep -c "^- Phase" .planning/ROADMAP.md)
echo "Roadmap now has ${NEW_PHASE_COUNT} phases"
```
</step>

<step name="present_next_steps">
Present gap closure plan:

```
## GAP CLOSURE PHASES CREATED

**Gaps found:** {count}
**New phases:** {count}

### Next Steps

1. Execute gap closure phases: /gsd:progress (will route to execution)
2. After gaps fixed: /gsd:audit-milestone {{version}} (re-audit)
3. If audit passes: /gsd:complete-milestone {{version}}

**Estimated time:** {phase_count} × ~1 day = {total} days
```
</step>
</process>
```

**Critical elements:**
- Parse audit gaps from MILESTONE-AUDIT.md
- Spawn gsd-planner with gap closure context
- Planner appends phases to ROADMAP.md
- Clear next steps (execute → re-audit → complete)
  </action>
  <verify>
Test spec with planner spawning:
```bash
cat specs/skills/gsd-plan-milestone-gaps/SKILL.md | grep -A 10 "agent_type.*gsd-planner"
```
  </verify>
  <done>gsd-plan-milestone-gaps spec exists with planner spawning for gaps</done>
</task>

<task name="migrate-archive-milestone-command" type="auto">
  <files>specs/skills/gsd-archive-milestone/SKILL.md</files>
  <action>
Create gsd-archive-milestone spec from legacy commands/gsd/archive-milestone.md (139 lines).

Frontmatter:
```yaml
name: gsd-archive-milestone
description: Move completed milestone files to .planning/history/ for long-term storage
skill_version: 1.9.1
requires_version: 1.9.0+
platforms: [claude, copilot, codex]
tools:
  - name: read
  - name: write
  - name: bash
arguments:
  - name: version
    type: string
    required: true
    description: Milestone version to archive
```

Body structure:
```xml
<objective>
Move completed milestone from .planning/milestones/ to .planning/history/ 
for long-term archival.

Purpose: Clean up active workspace while preserving historical records.
Output: Milestone moved to history/, updated MILESTONES.md registry.
</objective>

<process>
<step name="verify_milestone_exists">
Check milestone exists in .planning/milestones/v{{version}}/

If not found:
  Error: "Milestone v{{version}} not found in milestones/"
  Hint: "Did you mean to complete it first? /gsd:complete-milestone {{version}}"
</step>

<step name="create_history_directory">
Create history directory structure:

```bash
mkdir -p .planning/history/v{{version}}
```
</step>

<step name="move_milestone_files">
Move milestone directory to history:

```bash
# Move entire milestone directory
mv .planning/milestones/v{{version}}/* .planning/history/v{{version}}/
rmdir .planning/milestones/v{{version}}

# Verify move
ls -la .planning/history/v{{version}}/
```
</step>

<step name="update_milestones_registry">
Update MILESTONES.md registry with archive status:

```bash
# Update status from "Completed" to "Archived"
sed -i "s|Location: .planning/milestones/v{{version}}/|Location: .planning/history/v{{version}}/|" .planning/MILESTONES.md
sed -i "s|Status: Completed|Status: Archived|" .planning/MILESTONES.md

# Add archive timestamp
SECTION_LINE=$(grep -n "^## v{{version}}" .planning/MILESTONES.md | cut -d: -f1)
sed -i "${SECTION_LINE}a\- **Archived:** $(date +%Y-%m-%d)" .planning/MILESTONES.md
```
</step>

<step name="commit">
```bash
git add .planning/history/v{{version}}/
git add .planning/MILESTONES.md
git rm -r .planning/milestones/v{{version}}/
git commit -m "milestone: archive v{{version}} to history/

Moved to long-term storage for historical record."
```
</step>

<step name="present_summary">
```
## MILESTONE ARCHIVED: v{{version}}

**Archived to:** .planning/history/v{{version}}/
**Status:** Archived (long-term storage)

Files preserved:
- ROADMAP.md (milestone plan)
- REQUIREMENTS.md (requirements met)
- MILESTONE-AUDIT.md (E2E validation)

### Recovery

To restore: /gsd:restore-milestone {{version}}
```
</step>
</process>
```

**Critical elements:**
- Verify milestone exists before archiving
- Move files from milestones/ to history/
- Update MILESTONES.md registry (location + status)
- Git commit with file moves
  </action>
  <verify>
Test spec structure:
```bash
cat specs/skills/gsd-archive-milestone/SKILL.md | grep -A 3 "move_milestone_files"
```
  </verify>
  <done>gsd-archive-milestone spec exists with file move logic</done>
</task>

<task name="migrate-restore-milestone-command" type="auto">
  <files>specs/skills/gsd-restore-milestone/SKILL.md</files>
  <action>
Create gsd-restore-milestone spec from legacy commands/gsd/restore-milestone.md (151 lines).

Frontmatter:
```yaml
name: gsd-restore-milestone
description: Restore archived milestone from .planning/history/ back to active workspace
skill_version: 1.9.1
requires_version: 1.9.0+
platforms: [claude, copilot, codex]
tools:
  - name: read
  - name: write
  - name: bash
arguments:
  - name: version
    type: string
    required: true
    description: Milestone version to restore
```

Body structure:
```xml
<objective>
Restore archived milestone from .planning/history/ back to .planning/milestones/ 
for reference or rework.

Purpose: Make archived milestone active again (e.g., for bug fixes, analysis).
Output: Milestone restored to milestones/, updated registry.
</objective>

<process>
<step name="verify_archived_exists">
Check milestone exists in .planning/history/v{{version}}/

If not found:
  Error: "Milestone v{{version}} not found in history/"
  List available: ls .planning/history/
</step>

<step name="check_not_already_active">
Check if milestone already exists in milestones/:

If exists:
  Error: "Milestone v{{version}} already active in milestones/"
  Hint: "Archive it first if you want to replace: /gsd:archive-milestone {{version}}"
</step>

<step name="restore_milestone_files">
Move milestone from history back to milestones:

```bash
# Create target directory
mkdir -p .planning/milestones/v{{version}}

# Move files
mv .planning/history/v{{version}}/* .planning/milestones/v{{version}}/
rmdir .planning/history/v{{version}}

# Verify restore
ls -la .planning/milestones/v{{version}}/
```
</step>

<step name="update_milestones_registry">
Update MILESTONES.md registry with restored status:

```bash
# Update location and status
sed -i "s|Location: .planning/history/v{{version}}/|Location: .planning/milestones/v{{version}}/|" .planning/MILESTONES.md
sed -i "s|Status: Archived|Status: Restored (Active)|" .planning/MILESTONES.md

# Add restore timestamp
SECTION_LINE=$(grep -n "^## v{{version}}" .planning/MILESTONES.md | cut -d: -f1)
sed -i "${SECTION_LINE}a\- **Restored:** $(date +%Y-%m-%d)" .planning/MILESTONES.md
```
</step>

<step name="commit">
```bash
git add .planning/milestones/v{{version}}/
git add .planning/MILESTONES.md
git rm -r .planning/history/v{{version}}/
git commit -m "milestone: restore v{{version}} from archive

Moved from history/ back to active workspace."
```
</step>

<step name="present_summary">
```
## MILESTONE RESTORED: v{{version}}

**Restored to:** .planning/milestones/v{{version}}/
**Status:** Active (available for reference)

Files restored:
- ROADMAP.md (milestone plan)
- REQUIREMENTS.md (requirements met)
- MILESTONE-AUDIT.md (E2E validation)

### Next Steps

- Review milestone: cat .planning/milestones/v{{version}}/ROADMAP.md
- Archive again: /gsd:archive-milestone {{version}}
```
</step>
</process>
```

**Critical elements:**
- Verify archived milestone exists
- Check not already active (prevent conflicts)
- Move files from history/ back to milestones/
- Update MILESTONES.md registry (reverse of archive)
- Git commit with file moves
  </action>
  <verify>
Test spec structure:
```bash
cat specs/skills/gsd-restore-milestone/SKILL.md | grep -A 3 "restore_milestone_files"
```
  </verify>
  <done>gsd-restore-milestone spec exists with restore logic</done>
</task>

<task name="generate-and-test-lifecycle-skills" type="auto">
  <files>None (testing only)</files>
  <action>
Generate all five milestone lifecycle skills and verify structure.

```bash
# Generate skills
npm run install:local

# Verify all five generated
echo "=== Generated Skills ==="
ls -la .claude/skills/gsd-complete-milestone.md
ls -la .claude/skills/gsd-audit-milestone.md
ls -la .claude/skills/gsd-plan-milestone-gaps.md
ls -la .claude/skills/gsd-archive-milestone.md
ls -la .claude/skills/gsd-restore-milestone.md

# Check line counts (should match source)
echo "=== Line Counts ==="
wc -l .claude/skills/gsd-complete-milestone.md  # ~136
wc -l .claude/skills/gsd-audit-milestone.md     # ~258
wc -l .claude/skills/gsd-plan-milestone-gaps.md # ~284
wc -l .claude/skills/gsd-archive-milestone.md   # ~139
wc -l .claude/skills/gsd-restore-milestone.md   # ~151

# Verify spawning in audit and plan-gaps
echo "=== Spawning Check ==="
grep "agent_type.*gsd-integration-checker" .claude/skills/gsd-audit-milestone.md
grep "agent_type.*gsd-planner" .claude/skills/gsd-plan-milestone-gaps.md

# Verify dependency chain references
echo "=== Dependency Chain ==="
grep "audit-milestone" .claude/skills/gsd-complete-milestone.md  # Should check for audit
grep "plan-milestone-gaps" .claude/skills/gsd-complete-milestone.md  # Should recommend if gaps

# Run syntax check
node -e "
const fs = require('fs');
const skills = [
  'gsd-complete-milestone',
  'gsd-audit-milestone', 
  'gsd-plan-milestone-gaps',
  'gsd-archive-milestone',
  'gsd-restore-milestone'
];

skills.forEach(skill => {
  const content = fs.readFileSync(\`.claude/skills/\${skill}.md\`, 'utf8');
  const parts = content.split('---');
  if (parts.length >= 3) {
    console.log(\`✓ \${skill}: valid frontmatter\`);
  } else {
    console.error(\`✗ \${skill}: invalid structure\`);
  }
});
"
```
  </action>
  <verify>All five skills generated with spawning and dependency checks intact</verify>
  <done>Milestone lifecycle commands generated successfully as cohesive set</done>
</task>

## Verification

**After execution:**
- [ ] Five spec folders exist for milestone lifecycle commands
- [ ] All specs have complete frontmatter with correct tools
- [ ] complete-milestone checks for audit status before proceeding
- [ ] audit-milestone spawns gsd-integration-checker correctly
- [ ] plan-milestone-gaps spawns gsd-planner for gap closure
- [ ] archive-milestone moves files to history/ correctly
- [ ] restore-milestone reverses archive operation
- [ ] All five skills generate via npm run install:local
- [ ] Dependency chain preserved (audit → gaps → complete → archive → restore)

## Success Criteria

**Observable truths:**
1. Can audit milestone and receive integration report
2. If gaps found, can plan closure phases automatically
3. Can complete milestone only after audit passes
4. Can archive completed milestone to history/
5. Can restore archived milestone if needed
6. Milestone lifecycle flows smoothly from audit → completion → archive

**Key deliverable:** Five milestone lifecycle commands migrated as cohesive set with dependency chain and spawning patterns intact.

## Output

Files created:
- `specs/skills/gsd-complete-milestone/SKILL.md` - Milestone completion orchestration
- `specs/skills/gsd-audit-milestone/SKILL.md` - E2E integration audit with spawning
- `specs/skills/gsd-plan-milestone-gaps/SKILL.md` - Gap closure planning with spawning
- `specs/skills/gsd-archive-milestone/SKILL.md` - Archive to history/
- `specs/skills/gsd-restore-milestone/SKILL.md` - Restore from history/
- Five generated skills in `.claude/skills/` (total ~968 lines)

Ready for: Wave 4 (progress hub depends on complete-milestone existing)
