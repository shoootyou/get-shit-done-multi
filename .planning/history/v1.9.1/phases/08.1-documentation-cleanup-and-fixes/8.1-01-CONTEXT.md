---
phase: 8.1
discussed: 2026-01-24T10:15:39.801Z
areas: [Documentation Restructuring Philosophy, Migration Mechanism Design, File Naming & Organization Standards, Script Audit & Cleanup Criteria]
decisions_count: 28
---

# Phase 8.1 Context: Documentation Cleanup & Fixes

## Essential Features

### Documentation Structure
- **README.md role**: Quick project pitch + links to detailed docs + getting started steps inline
- **Remove v1.9.1 detailed content**: Delete sections added in this branch about v1.9.1 implementation details
- **No "GitHub PRIMARY" reference**: Make platform references general across Claude, Copilot, Codex
- **Index-style DOCUMENTATION section**: Simple navigation to detailed docs, not comprehensive inline content

### CHANGELOG Structure
- **Two-section format per version**: "User Changes" followed by "GSD Internal Logic" under same X.Y.Z header
- **No duplication**: Breaking changes appear only in user section, not duplicated
- **Granular user changes**: Specific, easy-to-understand changes (not just "Added 3 skills" but list each)
- **Contributor section includes**: All internal refactors, template changes, system modifications

### Setup Documentation Updates
- **Show directory tree structure**: Visual tree format, not just text description
- **Include file count expectations**: e.g., "You should see 29 skills in .github/skills/"
- **Paths only as examples**: No file content samples
- **Separate troubleshooting**: Keep troubleshooting in dedicated troubleshooting.md file

### Migration Mechanism
- **Auto-detection with confirmation**: Automatically detect old structure, ask user to confirm migration
- **Old structure markers**:
  - Old: `.github/skills/get-shit-done/commands` structure
  - New: `.github/skills/gsd-check-todos` (multiple skill folders in skills/)
  - Same detection logic for .claude and .codex
- **Backup naming**: Use `.old-gsd-system` or similar pattern (propose final name during implementation)
- **Backup to .gitignore**: Add backup folder to .gitignore automatically
- **Migration flow**: Backup → reinstall with appropriate platform flag (--copilot, --local, --codex)
- **User communication**: Detailed progress with indicators, success message with confirmation and overview

### File Naming & Organization
- **Lowercase scope**: ONLY files in `/docs` folder → lowercase
- **Preserve uppercase**: README.md, CHANGELOG.md, LICENSE, Makefile, GSD-STYLE.md stay uppercase
- **Script organization**: Move non-essential root .js files to scripts/ with subfolders
- **Essential root files**: Keep if necessary for package manager or config (package.json, jest.config.js, etc.)
- **Subfolder structure**: scripts/ must have subfolders for easy identification
- **SVG update**: Use banner const from install.js, update message in assets/*.svg (may need banner improvement)
- **Link updates**: Scan codebase, fix broken links automatically, phase-by-phase approach

### Script Audit & Removal
- **Essential criteria** (all must be true to keep):
  - Used in package.json scripts (npm run *), OR
  - Called by install.js or core functionality, OR
  - Referenced in documentation as user-facing tool, OR
  - Part of CI/CD workflow
- **Confirmation**: Present one-by-one with filename, inferred purpose, last modified, ask keep/remove
- **Scope**: All file types - .js, .sh, test files, config files for unused tools, docs for removed features
- **Documentation**: Create DEPRECATED.md with overview of removed files
- **No CHANGELOG entry**: Don't mention removals in CHANGELOG.md
- **Delete all references**: Remove from docs completely when file is removed

## Technical Boundaries

### Migration Implementation
- **Language**: Port cleanup-legacy-commands.sh logic to JavaScript in install.js
- **Parameter name**: Use "migrate" parameter in install.js
- **Separate file**: Create independent migration module (not inline in install.js)
- **Detection logic**: Check for `.github/skills/get-shit-done/commands` pattern vs new folder structure

### Troubleshooting.md Format
- **Static format**: Use "/gsd-" prefix, not "{{cmdPrefix}}" template syntax
- **Verify no conversion**: Check if any scripts dynamically generate or modify troubleshooting.md
- **Report converters**: If found, report and eliminate the conversion script

### Command-system.md Removal
- **Delete completely**: Remove docs/command-system.md file
- **Remove all references**: Find and delete all references to command-system.md in other docs
- **No deprecation notice**: Just remove, it never shipped to users

## Scope Limits

### Out of Scope for Phase 8.1
- Creating new documentation content (only restructuring/cleaning existing)
- Rewriting feature documentation
- Adding new migration features beyond old→new structure detection
- Performance optimization of scripts
- Refactoring essential scripts (only removing non-essential ones)
- Updating GSD command functionality (only docs about commands)

### Deferred to Future Phases
- None captured during discussion

## Open Questions

### For Research/Investigation
1. **Current docs structure**: What was added in v1.9.1 branch that needs removal from README.md?
2. **Command-system.md references**: Where is command-system.md referenced (grep needed)?
3. **Current setup-*-cli.md state**: What do these files currently show vs what's needed?
4. **Migration script logic**: What's in cleanup-legacy-commands.sh that needs porting?
5. **Script inventory**: Complete list of scripts/.js/.sh files with their usage analysis
6. **Troubleshooting.md current format**: Does it use {{cmdPrefix}} and which scripts touch it?
7. **Assets SVG content**: What does the current SVG show and what install.js banner says?
8. **Broken link scan**: What tool/approach to find and fix broken documentation links?
9. **Test coverage**: Do removed scripts have tests that also need removal?
10. **Backup folder naming**: Best practice for `.old-gsd-system` vs `.gsd-backup-{timestamp}` vs other?

### Implementation Decisions
1. Should migration backup be timestamped or just `.old-gsd-system` (overwrite on re-run)?
2. Progress indicator style for migration (spinner, percentage, step-by-step)?
3. Scripts subfolder organization (by type: test/, build/, dev/ or by function: generation/, validation/)?
4. DEPRECATED.md format (table with filename/purpose/removal-date or prose description)?
5. Banner message improvement strategy (keep current or redesign in this phase)?
