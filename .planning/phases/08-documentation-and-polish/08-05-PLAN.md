---
phase: 08-documentation-and-polish
plan: 05
type: execute
wave: 3
depends_on: [08-04]
files_modified:
  - .markdownlint-cli2.jsonc
  - package.json
autonomous: true
must_haves:
  - markdownlint-cli2 configured and added to package.json devDependencies
  - npm run lint:docs script validates all markdown files in docs/ and root
  - All documentation passes markdown linting (no errors)
---

# Plan 08-05: Quality Validation Setup

## Objective

Set up markdown linting to ensure documentation quality and consistency across all docs.

## Context

**Current state:** Wave 1 and 2 complete (12 documentation files created). No automated quality checks exist.

**Why this matters:** Consistent markdown formatting improves readability and prevents common errors (broken links, malformed tables, inconsistent headers).

**From RESEARCH.md:** markdownlint-cli2 is industry standard (faster than v1, auto-fix capability, active maintenance).

**Dependencies:** Depends on 08-04 (all docs must exist before linting setup).

## Tasks

<task name="setup-markdownlint" type="auto">
  <files>.markdownlint-cli2.jsonc, package.json</files>
  <action>
Set up markdownlint-cli2 for documentation quality:

**1. Install markdownlint-cli2:**
\`\`\`bash
npm install --save-dev markdownlint-cli2
\`\`\`

**2. Create .markdownlint-cli2.jsonc configuration:**
\`\`\`json
{
  "config": {
    "default": true,
    "MD013": false,
    "MD033": {
      "allowed_elements": ["div", "sub", "sup", "br"]
    },
    "MD041": false
  },
  "globs": [
    "**/*.md",
    "!node_modules/**",
    "!.planning/**"
  ]
}
\`\`\`

**Rules disabled:**
- MD013: Line length (docs have long code examples)
- MD041: First line heading (some docs start with frontmatter)

**Rules enabled:** All other default rules (header styles, list formatting, code block syntax, etc.)

**3. Add lint scripts to package.json:**
\`\`\`json
{
  "scripts": {
    "lint:docs": "markdownlint-cli2 '**/*.md' '!node_modules/**' '!.planning/**'",
    "lint:docs:fix": "markdownlint-cli2 --fix '**/*.md' '!node_modules/**' '!.planning/**'"
  }
}
\`\`\`

**4. Run linter and fix issues:**
\`\`\`bash
npm run lint:docs:fix
\`\`\`

**5. Verify all docs pass:**
\`\`\`bash
npm run lint:docs
\`\`\`
  </action>
  <verify>
1. Check config exists: `test -f .markdownlint-cli2.jsonc && echo "exists"`
2. Check devDependency added: `grep "markdownlint-cli2" package.json`
3. Check scripts added: `grep "lint:docs" package.json`
4. Run linter: `npm run lint:docs` (should exit 0)
5. Count docs linted: `npm run lint:docs 2>&1 | grep -c "\.md"` (should be 15+)
  </verify>
  <done>markdownlint-cli2 configured, all documentation passes linting</done>
</task>

## Verification

After completing all tasks:

```bash
# 1. Verify config file exists
test -f .markdownlint-cli2.jsonc && echo "markdownlint configured"

# 2. Run linter on all docs
npm run lint:docs

# 3. Check output (should be clean)
npm run lint:docs 2>&1 | tail -5

# 4. Count linted files
npm run lint:docs 2>&1 | grep "\.md" | wc -l  # Should be 15+ (root + docs/)
```

**Success criteria:**
- [ ] .markdownlint-cli2.jsonc exists with correct rules
- [ ] markdownlint-cli2 in package.json devDependencies
- [ ] lint:docs and lint:docs:fix scripts in package.json
- [ ] All documentation files pass linting (no errors)
- [ ] 15+ markdown files linted (README, CONTRIBUTING, CHANGELOG, 12 docs/)

## Success Criteria

**Outcome:** Documentation quality is automated and consistent.

**Observable Truths:**
1. Developer runs `npm run lint:docs` → all files pass with no errors
2. Documentation has consistent header styles, list formatting, code block syntax
3. Future doc changes caught by linter before commit
4. CI can run lint check (future: add to GitHub Actions)

## Output

Quality validation configuration:
- `.markdownlint-cli2.jsonc` — Linter configuration (rules enabled/disabled)
- `package.json` — Updated with lint:docs scripts and markdownlint-cli2 devDependency
- All documentation files passing lint validation
