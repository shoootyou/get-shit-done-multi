---
phase: 08.1-documentation-cleanup-and-fixes
plan: 05
type: execute
wave: 3
depends_on: ['8.1-01', '8.1-02', '8.1-03', '8.1-04']
files_modified:
  - assets/terminal.svg
  - .gitignore
  - .planning/phases/08.1-documentation-cleanup-and-fixes/8.1-VERIFICATION.md
autonomous: true
gap_closure: true
must_haves:
  truths:
    - "assets/terminal.svg shows 'npx get-shit-done-multi --copilot' command"
    - "assets/terminal.svg shows current version from package.json"
    - "assets/terminal.svg has generic project description (no 'by TÂCHES')"
    - ".gitignore contains .old-gsd-system/ before migration runs"
  artifacts:
    - assets/terminal.svg
    - .gitignore
  wiring:
    - SVG command matches current multi-platform installation pattern
    - .gitignore excludes backup directory from version control
  key_links:
    - SVG used in README.md and documentation
    - .gitignore prevents accidental commits of migration backups
---

# Phase 8.1 Plan 05: Close Verification Gaps

**Gap closure plan addressing 4 verification failures from 8.1-VERIFICATION.md**

## Objective

Fix critical user-facing issues identified during verification: outdated SVG asset, missing .gitignore entry, and documentation of architectural decisions.

## Context

Verification revealed 4 gaps blocking full goal achievement:

1. **SVG asset outdated (BLOCKER)**: terminal.svg shows old 'get-shit-done-cc' command instead of 'get-shit-done-multi --copilot'
2. **.gitignore not pre-populated (WARNING)**: .old-gsd-system/ added dynamically during migration, should be pre-added for cleaner UX
3. **Module location mismatch (DOCUMENTATION)**: Migration modules in bin/lib/migration/ not scripts/migration/ - intentional architectural decision, needs documentation
4. **Missing artifacts (DOCUMENTATION)**: scripts/shared/user-prompts.js and scripts/documentation/rename-to-lowercase.js specified in PLAN but implemented differently

### From VERIFICATION.md

**Gap 1 - SVG Update (Critical):**
```yaml
truth: "SVG assets show current install command and version"
status: failed
reason: "assets/terminal.svg still shows 'npx get-shit-done-cc' (old command)"
artifacts:
  - path: "assets/terminal.svg"
    issue: "Shows 'get-shit-done-cc' instead of 'get-shit-done-multi --copilot'"
missing:
  - "Update terminal.svg: get-shit-done-cc → get-shit-done-multi --copilot"
```

**Gap 2 - .gitignore (UX Improvement):**
```yaml
truth: "Backup is created in .old-gsd-system/YYYY-MM-DD/ before any removal"
status: partial
reason: ".gitignore not pre-populated with .old-gsd-system/ (added dynamically during migration)"
artifacts:
  - path: ".gitignore"
    issue: "Missing .old-gsd-system/ entry (gets added by addToGitignore() only when migration runs)"
missing:
  - "Pre-add .old-gsd-system/ to .gitignore so it's always excluded"
```

**Gap 3 - Module Location (Documentation):**
```yaml
truth: "Scripts are organized in functional subfolders (migration/, documentation/, audit/, validation/, shared/)"
status: partial
reason: "Migration modules located in bin/lib/migration/ not scripts/migration/ as PLAN specified"
artifacts:
  - path: "bin/lib/migration/"
    issue: "Modules exist but in different location than PLAN artifact paths"
  - path: "scripts/migration/"
    issue: "Only contains cleanup-legacy-commands.sh, missing detect/backup/flow/prompts modules"
  - path: "scripts/shared/user-prompts.js"
    issue: "Missing (PLAN specified creation)"
missing:
  - "Either move bin/lib/migration/* to scripts/migration/ OR update PLAN to reflect actual location"
  - "Create scripts/shared/user-prompts.js OR document why not needed"
```

**Gap 4 - Missing Scripts (Documentation):**
```yaml
truth: "Files in /docs folder are lowercase (e.g., troubleshooting.md, migration-guide.md)"
status: partial
reason: "Rename script scripts/documentation/rename-to-lowercase.js missing"
artifacts:
  - path: "scripts/documentation/rename-to-lowercase.js"
    issue: "PLAN specified creation but file doesn't exist"
missing:
  - "Create rename-to-lowercase.js script OR document that renaming was done differently"
```

### Architectural Context

From 8.1-04-SUMMARY.md:

> **Architecture Refactoring**
> 
> **Made bin/ self-contained:**
> - Moved `scripts/migration/` → `bin/lib/migration/`
> - Moved `scripts/shared/colors.js` → `bin/lib/colors.js`
> 
> **Benefits:**
> - ✅ bin/ has zero dependencies on scripts/ or lib-ghcc/
> - ✅ Logical grouping: cli-detection/, migration/, colors
> - ✅ Single source of truth for colors
> - ✅ Shorter import paths

This was an **intentional architectural decision** made during Plan 04 execution. Migration modules belong in bin/ because they're core installation functionality, not auxiliary scripts.

## Tasks

<task name="update-svg-asset" type="auto">
  <files>assets/terminal.svg</files>
  <action>
    Update terminal.svg to reflect current multi-platform installation:
    
    1. Line 41: Update command
       - FROM: `npx get-shit-done-cc`
       - TO: `npx get-shit-done-multi --copilot`
    
    2. Line 52: Update version from package.json
       - FROM: `v1.0.1`
       - TO: Read from package.json "version" field (currently "1.9.0")
    
    3. Line 54: Update project description
       - FROM: `development system for Claude Code by TÂCHES.`
       - TO: `development system for Claude Code, Copilot CLI, and Codex.`
       
       Remove "by TÂCHES" as project is now multi-maintained
    
    Preserve all other SVG styling, layout, and ASCII art.
  </action>
  <verify>
    ```bash
    # Verify command updated
    grep -q "get-shit-done-multi --copilot" assets/terminal.svg
    echo "✓ Command updated"
    
    # Verify version matches package.json
    VERSION=$(node -p "require('./package.json').version")
    grep -q "v${VERSION}" assets/terminal.svg
    echo "✓ Version updated to v${VERSION}"
    
    # Verify no "by TÂCHES" reference
    ! grep -q "by TÂCHES" assets/terminal.svg
    echo "✓ Generic description"
    ```
  </verify>
  <done>
    - assets/terminal.svg shows current installation command
    - Version matches package.json
    - Description is platform-agnostic
  </done>
</task>

<task name="pre-populate-gitignore" type="auto">
  <files>.gitignore</files>
  <action>
    Add .old-gsd-system/ to .gitignore before migration ever runs.
    
    1. Check if .old-gsd-system/ already in .gitignore:
       ```bash
       grep -q ".old-gsd-system" .gitignore
       ```
    
    2. If not present, add section:
       ```
       # GSD migration backup (created during upgrade from old structure)
       .old-gsd-system/
       ```
    
    3. Add at end of file with proper spacing (blank line before comment)
    
    This ensures backup directory is excluded from version control even before first migration runs, improving UX.
  </action>
  <verify>
    ```bash
    # Verify .old-gsd-system/ in .gitignore
    grep -q ".old-gsd-system" .gitignore
    echo "✓ .old-gsd-system/ in .gitignore"
    
    # Verify comment exists
    grep -q "GSD migration backup" .gitignore
    echo "✓ Comment added"
    ```
  </verify>
  <done>
    - .gitignore contains .old-gsd-system/ entry
    - Entry has explanatory comment
    - Backup directory excluded before migration runs
  </done>
</task>

<task name="update-verification-documentation" type="auto">
  <files>.planning/phases/08.1-documentation-cleanup-and-fixes/8.1-VERIFICATION.md</files>
  <action>
    Update VERIFICATION.md to document architectural decisions and close documentation gaps.
    
    Add "Post-Gap Closure Notes" section at end of file (before final timestamp):
    
    ```markdown
    ## Post-Gap Closure Notes
    
    **Plan 8.1-05 Gap Closure (2026-01-24):**
    
    ### Gaps Addressed
    
    1. **SVG asset updated** (Gap 1 - BLOCKER)
       - terminal.svg now shows 'get-shit-done-multi --copilot'
       - Version updated to match package.json
       - Description made platform-agnostic
    
    2. **.gitignore pre-populated** (Gap 2 - WARNING)
       - .old-gsd-system/ now in .gitignore before migration runs
       - Improves UX - no surprise git changes on first migration
    
    ### Gaps Documented (Intentional Design)
    
    3. **Module location mismatch** (Gap 3 - DOCUMENTATION)
       - PLAN specified: `scripts/migration/*.js`
       - ACTUAL location: `bin/lib/migration/*.js`
       - **Reason:** Architectural decision in Plan 8.1-04
       - Migration modules are core installation functionality
       - bin/ is now self-contained with zero dependencies on scripts/
       - **Resolution:** Accepted as intentional design improvement
    
    4. **Missing scripts** (Gap 4 - DOCUMENTATION)
       - PLAN specified: `scripts/shared/user-prompts.js`, `scripts/documentation/rename-to-lowercase.js`
       - **Reason:** Functionality implemented differently
       - User prompts: Integrated into `bin/lib/migration/migration-prompts.js`
       - File renaming: Done via git mv commands, not separate script
       - **Resolution:** Accepted - implementation differs from plan but achieves goal
    
    ### Verification Status After Gap Closure
    
    - **Score:** 25/25 must-haves verified (was 21/25)
    - **Blockers:** 0 (was 1 - SVG update)
    - **Warnings:** 0 (was 3 - .gitignore, location mismatch, missing scripts)
    - **Phase goal:** FULLY ACHIEVED
    ```
    
    This documents that gaps 3 and 4 are not failures, but intentional architectural improvements made during execution.
  </action>
  <verify>
    ```bash
    # Verify section added
    grep -q "Post-Gap Closure Notes" .planning/phases/08.1-documentation-cleanup-and-fixes/8.1-VERIFICATION.md
    echo "✓ Post-gap closure notes added"
    
    # Verify all 4 gaps addressed
    grep -q "Gap 1 - BLOCKER" .planning/phases/08.1-documentation-cleanup-and-fixes/8.1-VERIFICATION.md
    grep -q "Gap 2 - WARNING" .planning/phases/08.1-documentation-cleanup-and-fixes/8.1-VERIFICATION.md
    grep -q "Gap 3 - DOCUMENTATION" .planning/phases/08.1-documentation-cleanup-and-fixes/8.1-VERIFICATION.md
    grep -q "Gap 4 - DOCUMENTATION" .planning/phases/08.1-documentation-cleanup-and-fixes/8.1-VERIFICATION.md
    echo "✓ All 4 gaps documented"
    ```
  </verify>
  <done>
    - VERIFICATION.md updated with gap closure notes
    - Architectural decisions documented
    - Implementation differences explained
    - Phase goal status updated to FULLY ACHIEVED
  </done>
</task>

## Verification

After completing all tasks:

```bash
# 1. SVG updated correctly
grep "get-shit-done-multi --copilot" assets/terminal.svg
VERSION=$(node -p "require('./package.json').version")
grep "v${VERSION}" assets/terminal.svg
! grep "by TÂCHES" assets/terminal.svg

# 2. .gitignore has backup entry
grep ".old-gsd-system" .gitignore

# 3. Verification documentation complete
grep "Post-Gap Closure Notes" .planning/phases/08.1-documentation-cleanup-and-fixes/8.1-VERIFICATION.md
```

All gaps should be closed or documented as intentional design decisions.

## Success Criteria

**Observable truths that must be achievable:**

1. ✅ User viewing README sees current installation command in SVG
2. ✅ New installations have .old-gsd-system/ in .gitignore before first migration
3. ✅ Verification report explains why module location differs from PLAN
4. ✅ Verification report explains why certain scripts weren't created
5. ✅ Phase 8.1 verification score: 25/25 (was 21/25)

**Required artifacts:**

- assets/terminal.svg (updated with current command and version)
- .gitignore (with .old-gsd-system/ entry)
- 8.1-VERIFICATION.md (with post-gap closure notes)

**Key links:**

- SVG → README.md (displays in project documentation)
- .gitignore → migration system (excludes backups from version control)
- VERIFICATION.md → Phase 8.1 goal achievement (documents completion)

## Output

**Commits:**
- Gap closure: SVG update, .gitignore pre-population, verification documentation

**Files modified:**
- assets/terminal.svg
- .gitignore
- .planning/phases/08.1-documentation-cleanup-and-fixes/8.1-VERIFICATION.md

**Phase status after gap closure:**
- All 4 verification gaps addressed (2 fixed, 2 documented as intentional)
- Phase 8.1 verification score: 25/25 must-haves verified
- Phase goal FULLY ACHIEVED
