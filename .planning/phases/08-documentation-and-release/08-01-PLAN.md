---
phase: 08-documentation-and-release
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - specs/skills/README.md
  - docs/COMMAND-COMPARISON.md
autonomous: true
must_haves:
  - specs/skills/README.md documents conditional syntax with examples
  - specs/skills/README.md has platform-specific tool reference table
  - specs/skills/README.md explains WHY (benefits over legacy)
  - docs/COMMAND-COMPARISON.md shows old vs new format side-by-side
  - Comparison table includes file paths, invocation syntax, structure differences
---

# Plan 08-01: Core Documentation

**Objective:** Expand skill spec documentation and create format comparison reference

**Context:**

Phase 7 completed multi-platform testing with 28/29 commands generated successfully. The spec system is proven and working. Phase 8 documents it for users and prepares v1.9.1 release with complete legacy removal.

This plan creates the foundational documentation that other plans will reference:
- Expanded `/specs/skills/README.md` with conditional syntax examples and tool reference
- Comparison table showing old vs new command format

**From RESEARCH.md:**
- Follow existing `/specs/skills/README.md` pattern (gold standard)
- Use schema documentation structure: Progressive disclosure (summary → details)
- Platform-specific tool declarations essential (all 3 CLIs documented)
- Focus on WHY before WHAT/HOW

**From CONTEXT.md:**
- README must explain WHY (problem solved, benefits)
- Technical reference in separate section
- Comparison table shows old vs new format clearly

## Tasks

<task name="expand-skills-readme" type="auto">
  <files>specs/skills/README.md</files>
  <action>
Expand `/specs/skills/README.md` following the established pattern (lines 1-150 are excellent, extend it).

**Add after line 150 (Field Specifications section):**

### Platform Conditionals Section

Document Mustache conditional syntax with examples:

```markdown
## Platform Conditionals

Skills use Mustache syntax for platform-specific content in frontmatter.

### Available Conditionals

| Conditional | When True | Example |
|-------------|-----------|---------|
| `{{#isClaude}}` | Generating for Claude Code | Tool names: Read, Bash, Write, Task |
| `{{#isCopilot}}` | Generating for GitHub Copilot CLI | Tool names: file_read, shell_execute, file_write |
| `{{#isCodex}}` | Generating for Codex CLI | Tool names: fs.read, shell.run, fs.write |

### Syntax Examples

**Simple conditional:**
```yaml
tools:
  {{#isClaude}}
  - Read
  - Bash
  {{/isClaude}}
  {{#isCopilot}}
  - file_read
  - shell_execute
  {{/isCopilot}}
```

**Conditional with shared content:**
```yaml
description: "Create execution plan for phase"
{{#isClaude}}
argument-hint: "<phase-number>"
{{/isClaude}}
{{#isCopilot}}
argument-hint: "[phase number]"
{{/isCopilot}}
```

### Rules

1. Conditionals ONLY in frontmatter, NEVER in body
2. Body must be platform-agnostic markdown
3. Always provide all 3 platforms (Claude, Copilot, Codex)
4. Conditionals cannot be nested

### Tool Declarations Section

**Add comprehensive tool reference:**

```markdown
## Tool Reference by Platform

Skills declare required tools in frontmatter. Tools differ by platform.

### Claude Code Tools

| Tool | Purpose | Common Use |
|------|---------|------------|
| `Read` | View files and directories | Reading context files, checking structure |
| `Bash` | Execute shell commands | Running tests, git operations, file operations |
| `Write` | Create/edit files | Creating plans, updating state, writing code |
| `Task` | Spawn subagents | Orchestrators spawning specialized agents |
| `Edit` | Batch file edits | Multiple changes to same file |

### GitHub Copilot CLI Tools

| Tool | Purpose | Equivalent |
|------|---------|------------|
| `file_read` | Read file contents | Claude: Read |
| `file_write` | Create/modify files | Claude: Write |
| `shell_execute` | Run shell commands | Claude: Bash |
| `directory_list` | List directory contents | Claude: Read |
| `search_code` | Search codebase | Claude: grep via Bash |

### Codex CLI Tools

| Tool | Purpose | Equivalent |
|------|---------|------------|
| `fs.read` | Read file contents | Claude: Read |
| `fs.write` | Write file contents | Claude: Write |
| `shell.run` | Execute commands | Claude: Bash |
| `fs.list` | List directories | Claude: Read |
| `search.grep` | Search files | Claude: grep via Bash |

### Tool Mapping

Template system automatically maps tools during generation:
- `Read` → `file_read` (Copilot) → `fs.read` (Codex)
- `Bash` → `shell_execute` (Copilot) → `shell.run` (Codex)
- `Write` → `file_write` (Copilot) → `fs.write` (Codex)
- `Task` → `agent_spawn` (Copilot) → `agent.invoke` (Codex)

**Do NOT manually map tools in specs.** Use conditionals to declare platform-native names.
```

### Why This System Exists Section

**Add at beginning of README (after Overview, before Directory Structure):**

```markdown
## Why Spec-Based Skills?

**Problem solved:**

Before v1.9.1, GSD maintained 29 command files per platform manually:
- `commands/gsd/*.md` for legacy format
- `.claude/commands/*.md` for Claude Code
- `.github/copilot/commands/*.md` for GitHub Copilot CLI
- `.codex/skills/*.md` for Codex CLI

**Changes = 4× work:** Any update required editing 4 files manually.

**Platform drift:** Subtle differences crept in between platforms over time.

**Benefits of spec system:**

1. **Single source of truth** - One spec generates all platforms
2. **Zero drift** - Generated files guaranteed identical behavior
3. **Automatic adaptation** - Tools map to platform capabilities
4. **Proven foundation** - Reuses template system from agents (208 passing tests)
5. **Easy maintenance** - Update spec once, regenerate all platforms

**Migration impact:**

v1.9.1 removes legacy system completely. Use spec-based skills exclusively.
```
  </action>
  <verify>
```bash
# Check sections added
grep -q "## Platform Conditionals" specs/skills/README.md && echo "✓ Platform Conditionals"
grep -q "## Tool Reference by Platform" specs/skills/README.md && echo "✓ Tool Reference"
grep -q "## Why Spec-Based Skills?" specs/skills/README.md && echo "✓ WHY section"

# Check tool tables exist
grep -q "Claude Code Tools" specs/skills/README.md && echo "✓ Claude tools"
grep -q "GitHub Copilot CLI Tools" specs/skills/README.md && echo "✓ Copilot tools"
grep -q "Codex CLI Tools" specs/skills/README.md && echo "✓ Codex tools"

# Check examples
grep -q "{{#isClaude}}" specs/skills/README.md && echo "✓ Conditional examples"
```
  </verify>
  <done>
    specs/skills/README.md documents:
    - WHY section explains benefits (single source of truth, zero drift)
    - Platform Conditionals with Mustache syntax examples
    - Tool Reference tables for all 3 platforms (Claude, Copilot, Codex)
    - Tool mapping explanation (automatic during generation)
  </done>
</task>

<task name="create-comparison-table" type="auto">
  <files>docs/COMMAND-COMPARISON.md</files>
  <action>
Create `/docs/COMMAND-COMPARISON.md` showing old vs new command system side-by-side.

**File structure:**

```markdown
# Command System Comparison

**Audience:** Users upgrading from pre-v1.9.1 to v1.9.1+

**Purpose:** Understand what changed between legacy command system and new spec-based skill system.

## Quick Reference

| Aspect | Legacy (Pre-v1.9.1) | New (v1.9.1+) |
|--------|---------------------|---------------|
| **Invocation** | `/gsd:plan-phase` | `/gsd-plan-phase` |
| **File location** | `commands/gsd/plan-phase.md` | `specs/skills/gsd-plan-phase/SKILL.md` |
| **Structure** | Single file per command | Folder per skill (enables expansion) |
| **Frontmatter** | Optional, unstructured | Required YAML with [schema](../specs/skills/README.md#canonical-frontmatter-schema) |
| **Platform support** | Static files per platform | Generated from template |
| **Conditional syntax** | None (manual duplication) | Mustache conditionals (`{{#isClaude}}`) |
| **Generation** | Hand-written | Template-based |
| **Tool declarations** | Implicit (platform determines) | Explicit in frontmatter |
| **Metadata tracking** | Manual | Auto-generated (timestamp, version) |

## File Path Migration

### Legacy Paths (Removed in v1.9.1)

```
commands/gsd/
├── new-project.md
├── execute-phase.md
├── plan-phase.md
├── help.md
└── ... (29 total)
```

**Installed to:**
- Claude Code: `~/.claude/commands/gsd/*.md`
- Copilot CLI: `.github/copilot/commands/*.md`
- Codex CLI: `.codex/commands/*.md`

### New Paths (v1.9.1+)

```
specs/skills/
├── README.md
├── _shared.yml
├── gsd-new-project/
│   └── SKILL.md
├── gsd-execute-phase/
│   └── SKILL.md
├── gsd-plan-phase/
│   └── SKILL.md
├── gsd-help/
│   └── SKILL.md
└── ... (28 total)
```

**Generated to:**
- Claude Code: `~/.claude/get-shit-done/.github/skills/*.md`
- Copilot CLI: `.github/skills/get-shit-done/*.md`
- Codex CLI: `.codex/skills/get-shit-done/*.md`

## Invocation Changes

| Command | Old Invocation | New Invocation |
|---------|----------------|----------------|
| Help | `/gsd:help` | `/gsd-help` |
| New project | `/gsd:new-project` | `/gsd-new-project` |
| Plan phase | `/gsd:plan-phase <N>` | `/gsd-plan-phase <N>` |
| Execute phase | `/gsd:execute-phase <N>` | `/gsd-execute-phase <N>` |
| Research phase | `/gsd:research-phase <N>` | `/gsd-research-phase <N>` |
| Verify work | `/gsd:verify-work <N>` | `/gsd-verify-work <N>` |
| Progress | `/gsd:progress` | `/gsd-progress` |
| Map codebase | `/gsd:map-codebase` | `/gsd-map-codebase` |
| Debug | `/gsd:debug [issue]` | `/gsd-debug [issue]` |
| (all others) | `/gsd:command-name` | `/gsd-command-name` |

**Pattern:** Replace `:` with `-` in all commands.

## Frontmatter Changes

### Legacy Format (Optional, Unstructured)

```markdown
---
name: gsd:plan-phase
description: Plan a phase
---

# Body content...
```

### New Format (Required, Structured)

```yaml
---
name: gsd-plan-phase
description: Create detailed execution plan for a phase
argument-hint: "<phase-number>"
tools:
  {{#isClaude}}
  - Read
  - Bash
  - Write
  - Task
  {{/isClaude}}
  {{#isCopilot}}
  - file_read
  - shell_execute
  - file_write
  - agent_spawn
  {{/isCopilot}}
  {{#isCodex}}
  - fs.read
  - shell.run
  - fs.write
  - agent.invoke
  {{/isCodex}}
metadata:
  platform: claude
  generated: 2026-01-24T00:00:00Z
  gsdVersion: 1.9.1
---

# Body content (platform-agnostic markdown)...
```

**Key differences:**
1. YAML frontmatter required (not optional)
2. Schema-validated fields (name, description, tools)
3. Platform conditionals for tools
4. Auto-generated metadata
5. Body must be platform-agnostic

## Tool Declaration Changes

### Legacy (Implicit)

Tools determined by platform runtime. No declaration in command file.

### New (Explicit with Conditionals)

```yaml
tools:
  {{#isClaude}}
  - Read
  - Bash
  - Write
  {{/isClaude}}
  {{#isCopilot}}
  - file_read
  - shell_execute
  - file_write
  {{/isCopilot}}
  {{#isCodex}}
  - fs.read
  - shell.run
  - fs.write
  {{/isCodex}}
```

Benefits:
- Explicit permissions (principle of least privilege)
- Platform-specific adaptation
- Automatic validation during generation

## Migration Path

**From legacy to new:**

1. **Uninstall legacy** - Run cleanup script or manual removal (see [cleanup guide](./LEGACY-CLEANUP.md))
2. **Reinstall v1.9.1+** - Run `npx get-shit-done-multi` with appropriate flags
3. **Update invocations** - Replace `/gsd:` with `/gsd-` in all usage
4. **Verify installation** - Run `/gsd-verify-installation`

**No automatic conversion:** Legacy command files cannot be automatically converted to specs. Creating new specs requires following [migration guide](./MIGRATION-GUIDE.md).

## Breaking Changes

**⚠️ Complete removal in v1.9.1:**

- Legacy `/gsd:` prefix removed (use `/gsd-` instead)
- Legacy `commands/gsd/*.md` system removed entirely
- No backward compatibility with pre-v1.9.1 installations
- Manual migration required (cleanup script provided)

**See also:**
- [Migration Guide](./MIGRATION-GUIDE.md) - How to create new skills
- [Legacy Cleanup](./LEGACY-CLEANUP.md) - How to remove old system
- [Skills README](../specs/skills/README.md) - Spec schema documentation
```

  </action>
  <verify>
```bash
# Check file created
test -f docs/COMMAND-COMPARISON.md && echo "✓ File created"

# Check key sections
grep -q "## Quick Reference" docs/COMMAND-COMPARISON.md && echo "✓ Quick Reference"
grep -q "## File Path Migration" docs/COMMAND-COMPARISON.md && echo "✓ File paths"
grep -q "## Invocation Changes" docs/COMMAND-COMPARISON.md && echo "✓ Invocation table"
grep -q "## Breaking Changes" docs/COMMAND-COMPARISON.md && echo "✓ Breaking changes"

# Check tables exist
grep -c "^|" docs/COMMAND-COMPARISON.md
# Should output 40+ (multiple tables)
```
  </verify>
  <done>
    docs/COMMAND-COMPARISON.md created with:
    - Side-by-side comparison table (old vs new)
    - File path migration (legacy → spec structure)
    - Invocation changes (all 28 commands)
    - Frontmatter format comparison
    - Breaking changes section with warnings
  </done>
</task>

## Verification

```bash
# Verify both files created and structured
test -f specs/skills/README.md && echo "✓ README exists"
test -f docs/COMMAND-COMPARISON.md && echo "✓ Comparison exists"

# Check README expansion
wc -l specs/skills/README.md
# Should be significantly longer than current ~150 lines

# Check comparison tables
grep -c "^|" docs/COMMAND-COMPARISON.md
# Should have 40+ table rows

# Check cross-references
grep -q "COMMAND-COMPARISON.md" docs/ && echo "✓ Comparison table referenced"
```

## Success Criteria

- [ ] specs/skills/README.md has "Why Spec-Based Skills?" section
- [ ] specs/skills/README.md documents Platform Conditionals with examples
- [ ] specs/skills/README.md has Tool Reference tables (Claude, Copilot, Codex)
- [ ] docs/COMMAND-COMPARISON.md exists with side-by-side tables
- [ ] Comparison table shows file paths, invocation syntax, frontmatter changes
- [ ] Breaking changes section explicit and visible

## Output

Files created/modified:
- `specs/skills/README.md` - Expanded documentation (WHY, conditionals, tools)
- `docs/COMMAND-COMPARISON.md` - Format comparison reference

These files serve as foundation for Wave 2 plans (migration guide, troubleshooting).
